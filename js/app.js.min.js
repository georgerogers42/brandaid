(function(){"use strict";require(["jquery","js/bower_components/jsoneditor/jsoneditor-min","js/cssconv.js.min","js/buckUnder.js.min","js/eval.js.min"],function($,json,cssconv,$_,mkEval){return $(function(){var bh,cson,e,env,evaluator,style,update,x;style=$("#styleName").val();x=$("<div>");update=function(){$("#jsonBody").val(e.getText());return $("pre#stylesheet").text(cssconv.rules(e.get()))};e=new json.JSONEditor(x[0],{modes:["tree","code"],change:update});cson=JSON.parse($("input#styles").val())[$("input#styleName").val()];bh=function(style){e.set(cson);return update()};bh(style);$("pre#stylesheet").text(cssconv.rules(cson));$("p#jsonEditor").append(x);$("form#parseCson").on("submit",function(evt){var data,req;evt.preventDefault();data={body:$(this).find('textarea[name="body"]').val()};req=$.ajax($("#appRoot").val()+"/to/cson",{data:data,type:"post",dataType:"json"});req.done(function(data){e.set(data);return update()});return req.fail(function(w,msg){return alert(msg)})});env=Object.create(window);env.$_=$_;evaluator=mkEval(env);$("form#loadScript").on("submit",function(evt){var macroName,req;evt.preventDefault();macroName=$(this).find("input.file").val();req=$.ajax("/"+$("#brandName").val()+"/"+macroName+".coffee");req.done(function(data){return $("#macro").val(data)});return req.fail(function(foo,err){return alert(err)})});return $("button#run").on("click",function(evt){var f,script;script=$("#macro").val();f=evaluator(script);e.set(f(e.get()));return update()})})})}).call(this);
//# sourceMappingURL=js/app.js.map